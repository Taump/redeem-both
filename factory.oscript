{
  bounce_fees: { base: 10000 },
  init: `{
    $transfer_base_aa = "6NYNGKIWBVJ2BTVCMPMU3TZVCVE4FMG2";
  }`,
  messages: {
    cases: [
      {
        if: "{ trigger.data.create }",
        init: `{
          $transfer_aa = [
            'autonomous agent',
            {
              base_aa: $transfer_base_aa,
              params: {
                owner: trigger.address
              }
            }
          ];

          $transfer_aa_address = chash160($transfer_aa);
        }`,
        messages: [
          {
						app: 'definition',
						payload: {
							definition: `{$transfer_aa}`
						}
					},
          {
						app: 'payment',
						payload: {
							asset: 'base',
							outputs: [
								{ address: "{ $transfer_aa_address }", amount: 6000 }, // I'll get all this money back (minus fees)
							]
						}
					},
          {
						app: 'data',
						payload: {
							define: 1
						}
					},
          {
            app: "state",
            state: `{
              var["transfer_" || trigger.address] = $transfer_aa_address;
              response['transfer'] = $transfer_aa_address;
            }`
          },
        ]
      }
    ]
  }
}